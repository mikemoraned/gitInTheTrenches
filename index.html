<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html xmlns="http://www.w3.org/1999/html">
  <head>
    <title>Git in the trenches</title>
      <meta charset='utf-8'>
      <script
        src='http://html5slides.googlecode.com/svn/trunk/slides.js'></script>
  </head>
  
  <style>
    /* Your individual styles here, or just use inline styles if that’s
       what you want. */


  </style>

  <body style='display: none'>

    <section class='slides layout-regular'>
      
      <!-- Your slides (<article>s) go here. Delete or comment out the
           slides below. -->
      <article>
        <h1>
          <code>Git</code> in the trenches
        </h1>
        <h3>An experience report</h3>
        <p>
          Mike Moran
        </p>
      </article>

      <article>
        <h3>
            What I want you to get out of this talk
        </h3>
        <ul class="build">
            <li>
                A small example workflow of how to use Git to talk to SVN
            </li>
            <li>
                Some hints and tips
            </li>
            <li>
                But it's not all about you!
            </li>
            <li>
                I'd like you to point and laugh and say:
                <ul class="build">
                    <li>
                        Why are you doing that?! You should be using '<code>git &lt;super-duper-command&gt;</code>'!
                    </li>
                </ul>
            </li>
        </ul>
      </article>

      <article>
          <h3>
              Getting started
          </h3>
          <ul class="build">
              <li>
                  Install git for Windows, I use <code>git version 1.7.10.msysgit.1</code> (was installed by github for Windows)
              </li>
              <li>
                  <code>git svn clone &lt;some-svn-repo-url&gt;</code>
              </li>
              <li>
                  <p>wait a while i.e. go to lunch. git svn is inside your repo downloading all revisions.</p>

                  <p>if you don't care about older revisions, this might work:
                      <code>git svn clone -r &lt;OLDEST_REV&gt;:HEAD &lt;some-svn-repo-url&gt;</code></p>
              </li>
              <li>
                  default editor is vim, <b>gack</b>, so I do:
                  <code>git config --global core.editor &lt;some-path-to-a-shell-for-editor&gt;</code>
                  (I use NotePad++)
              </li>
          </ul>
      </article>

      <article>
          <h3>
              The cycle of life
          </h3>
          <ul class="build">
              <li>
                  <code>git checkout -b &lt;feature-branch&gt;</code>
              </li>
              <li>
                  <code>git add .</code>
              </li>
              <li>
                  <code>git commit</code>
              </li>
              <li>
                  <code>git checkout master</code>
              </li>
              <li>
                  <code>git svn rebase</code>
              </li>
              <li>
                  <code>git merge &lt;feature-branch&gt; --squash</code>
              </li>
              <li>
                  <code>git commit</code>
              </li>
              <li>
                  <code>git checkout &lt;feature-branch&gt;</code>
              </li>
              <li>
                  <code>git merge master</code>
              </li>
          </ul>
      </article>

      <article>
          <h3>
              What's with the &lt;feature-branch&gt;'s?
          </h3>
          <ul class="build">
              <li><code>git-svn</code> isn't a big fan of uncommited code</li>
              <li><code>git stash</code>, <code>git stash pop</code> can help</li>
              <li>or, keep <code>master</code> for integrations, merging and very quick fixes</li>
          </ul>
      </article>

      <article>
          <h3>
              Why use <em>RAW</em> git commands?
          </h3>
          <ul class="build">
              <li>I tried <a href="http://www.syntevo.com/smartgit/index.html">SmartGit</a></li>
              <li>IMHO, it's a broken abstraction</li>
              <li>git CLI is idiosyncratic, but very powerful</li>
          </ul>
      </article>

      <article>
          <h3>Tips</h3>
          <ul class="build">
              <li>"my name is Mike and <code>git reflog</code> saved my ass"</li>
              <li>rewrite history with <code>git rebase -i HEAD~2</code></li>
              <li>don't be afraid to branch, you're not in SVN anymore</li>
              <li>git bash <code>Ctrl-R</code> for commands (alternatively, some people setup shortcuts)</li>
          </ul>
      </article>

      <article>
          <h3>Wanted</h3>
          <ul class="build">
              <li>a worthwhile git extension to Visual Studio 2010</li>
              <li>a way to use Emacs (client) for Windows as my commit editor without ceaseless grovelling to the gods of shell-escaping</li>
          </ul>
      </article>

      <!--
        <article>
            <h3>
                Must accept some limitations
            </h3>
            <ul class="build">
                <li>
                    You must tolerate some false positives
                </li>
                <li>
                    You can't iterate through all items trivially
                </li>
            </ul>
        </article>

      <article class='nobackground smaller'>
          <h3>(<a href="http://www.jasondavies.com/bloomfilter/">http://www.jasondavies.com/bloomfilter/</a>)</h3>
          <input type="text" id="key" style="display:none"> <button id="add" class="first last" style="display:none">Add</button>
          <div id="vis"></div>

        <script src="http://www.jasondavies.com/bloomfilter/bloomfilter.js"></script>
        <script src="http://www.jasondavies.com/bloomfilter/bloomvis.js"></script>
        <script>
            // HACKS!!!

            function add(key) {
                if (!(key in keySet)) {
                    keySet[key] = 1;
                    bloom.add(key);
                    keys.push({key: key, value: locations(bloom, key)});
                    update();
                }
                keyInput.property("value", "");
            }

            function reset() {
                bloom = new BloomFilter(50, 3);
                keys = [];
                keySet = {};
                d3.select("#vis input").attr("value", "");
                update();
            }

            function lookup(key) {
                queryText = key;
                d3.select("#vis input").attr("value", key);
                update();
            }

            function noop() {}

            var action = 0;
            var actions = [
                function() {
                    add("mary");
                },
                function() {
                    add("had");
                },
                function() {
                    lookup("mary");
                },
                function() {
                    add("a");
                },
                function() {
                    add("little");
                },
                function() {
                    add("lamb");
                },
                function() {
                    lookup("feepsteriser");
                },
                function() {
                    add("b");
                },
                function() {
                    add("c");
                },
                function() {
                    add("d");
                },
                function() {
                    add("e");
                },
                function() {
                    add("f");
                },
                function() {
                    add("g");
                },
                function() {
                    add("h");
                },
                function() {
                    add("i");
                },
                function() {
                    add("j");
                },
                function() {
                    add("k");
                },
                function() {
                    add("l");
                },
                function() {
                    add("m");
                },
                function() {
                    add("n");
                },
                noop,
                noop,
                noop,
                reset
            ];

            window.setInterval(function() {
                actions[action]();
                action = (action + 1) % actions.length;
            }, 1000);

        </script>
      </article>

      <article>
          <h2>
              Count-Min Sketch
          </h2>
      </article>

        <article>
            <h3>
                From Bloom Filter to Count-Min Sketch
            </h3>

            <p class="build">
                <img src="count-min-sketch.png">
            </p>

            <ul class="build">
                <li>
                    Instead of storing empty/full against a hash, increment a count.
                    <span class="aside">Count-Min actually uses a two-d array, with a separate array for each hash fn, whereas a Bloom-filter has a single array. </span>
                </li>
                <li>
                    On lookup of item, find minimum of all counts found against hashes
                </li>
                <li>
                    That's (probably) your count for that item!
                </li>
            </ul>


        </article>

      <article>
          <h3>
              General Caveats of Sketch Algorithms
          </h3>
          <ul class="build">
              <li>
                  Needs good hash functions
              </li>
              <li>
                  Hard to debug
              </li>
              <li>
                  Fiendish maths
              </li>
              <li>
                  Can you <em>really</em> tolerate error?
              </li>
              <li>
                  I've yet to find a have a good reason to use them in production (instead of exact algorithms)
                  <ul class="build">
                      <li>
                          ... though I was mostly considering Bloom filters before.
                      </li>
                  </ul>
              </li>
          </ul>
      </article>

      <article>
          <h3>
              Takeaways
          </h3>
          <ol class="build">
              <li>
                  Sketches are cool!
              </li>
              <li>
                  Consider them when you're working with Big Data&trade; and you can afford to be a teensy bit wrong
              </li>
              <li>
                  Sketches are cool!
              </li>
              <li>
                  Resources:
                  <ul>
                      <li>
                          <a href="http://www.jasondavies.com/bloomfilter/">Bloom Filters (Jason Davies)</a>
                      </li>
                      <li>
                          <a href="http://blog.aggregateknowledge.com/2011/09/13/streaming-algorithms-and-sketches/">Streaming Algorithms and Sketches</a>
                      </li>
                      <li>
                          <a href="https://sites.google.com/site/countminsketch/">Count-Min Sketch home</a>
                      </li>
                      <li>
                          <a href="http://highlyscalable.wordpress.com/2012/05/01/probabilistic-structures-web-analytics-data-mining/">Probabilistic Data Structures for Web Analytics and Data Mining</a>
                      </li>
                  </ul>
              </li>
          </ol>
      </article>

      -->

      <article>
        <h3>
          Thanks!
        </h3>
      </article>

    </section>

  </body>
</html>
